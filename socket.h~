#include <optional>
#include <string>
#include <thread>
#include <utility>
#include <uv.h>
#define MAX_SIZE 16
typedef std::pair<ssize_t, std::string> message_t;
using std::optional;
using std::string;
struct Socket {
  Socket(string, int);
  ~Socket();
  void listen();
  optional<message_t> read();
  message_t waitread();
  int write(string s);
  uv_loop_t *loop;
  struct sockaddr_in addr;
  int id;
  uv_tcp_t server;
};
